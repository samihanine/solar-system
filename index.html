<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - GLTFloader</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">
		  
		  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.min.js"></script>
		  <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
		  <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
	</head>

	<body>

		<script type="module">
 //===================================================== canvas
 var renderer = new THREE.WebGLRenderer({ alpha: true, antialiase: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  //===================================================== scene
  var scene = new THREE.Scene();

  //===================================================== camera
  var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000000);


  const controls = new THREE.OrbitControls( camera, renderer.domElement );
	//controls.update() must be called after any manual changes to the camera's transform
	camera.position.z = 200;
  	camera.position.y = 1.5;
	controls.update();

  //===================================================== lights
  const light = new THREE.AmbientLight( 0x404040, 5 ); // soft white light
  scene.add(light);



  //===================================================== resize
  window.addEventListener("resize", function() {
    let width = window.innerWidth;
    let height = window.innerHeight;
    renderer.setSize(width, height);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();
  });


  //===================================================== earth
  var loader = new THREE.GLTFLoader();
  var mixer;
  var earth;
  loader.load(
    "./models/earth.glb", function(gltf) {

       gltf.scene.traverse( function( node ) {
          if ( node instanceof THREE.Mesh ) { 
            node.castShadow = true; 
            node.material.side = THREE.DoubleSide;
          }
        });

       
      earth = gltf.scene;
	 
      earth.scale.set(.1,.1,.1);
      scene.add(earth);

 
  });

    //===================================================== earth
  var loader = new THREE.GLTFLoader();
  var mixer;
  var saturn;
  loader.load(
    "./models/saturn.glb", function(gltf) {

       gltf.scene.traverse( function( node ) {
          if ( node instanceof THREE.Mesh ) { 
            node.castShadow = true; 
            node.material.side = THREE.DoubleSide;
          }
        });

       
	  saturn = gltf.scene;
	 
      saturn.scale.set(.1,.1,.1);
	  saturn.position.set(100,.1,.1);
      scene.add(saturn);

 
  });


  var loader = new THREE.GLTFLoader();
  var mixer;
  var sun;
  loader.load(
    "./models/sun.glb", function(gltf) {

       gltf.scene.traverse( function( node ) {
          if ( node instanceof THREE.Mesh ) { 
            node.castShadow = true; 
            node.material.side = THREE.DoubleSide;
          }
        });

       
	  sun = gltf.scene;
	 
      sun.scale.set(.1,.1,.1);
	  sun.position.set(100,.1,.1);
      scene.add(sun);

 
  });



//===================================================== animate
var clock = new THREE.Clock();
function render() {
  requestAnimationFrame(render);
  var delta = clock.getDelta();
  if (mixer != null) mixer.update(delta);
	if (earth) {
		earth.rotation.z -= 0.01;
		earth.rotation.x -= 0.01;
	}

	controls.update();

  renderer.render(scene, camera);
}

render();
			</script>

	</body>
</html>